{"ast":null,"code":"var _jsxFileName = \"/Users/deepak/Desktop/internship/frontend/src/components/Charts/TopicsChart.jsx\";\nimport React from 'react';\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#14b8a6', '#f97316', '#06b6d4', '#84cc16'];\nconst TopicsChart = ({\n  data\n}) => {\n  // Count records by topic\n  const chartData = data.reduce((acc, item) => {\n    if (item.topic && item.topic.trim() !== '') {\n      const existing = acc.find(x => x.name === item.topic);\n      if (existing) {\n        existing.value += 1;\n        existing.totalRelevance += item.relevance || 0;\n      } else {\n        acc.push({\n          name: item.topic,\n          value: 1,\n          totalRelevance: item.relevance || 0\n        });\n      }\n    }\n    return acc;\n  }, []).map(item => ({\n    name: item.name,\n    value: item.value,\n    avgRelevance: parseFloat((item.totalRelevance / item.value).toFixed(2))\n  })).sort((a, b) => b.value - a.value).slice(0, 10);\n  const renderCustomLabel = ({\n    cx,\n    cy,\n    midAngle,\n    innerRadius,\n    outerRadius,\n    percent\n  }) => {\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n    const x = cx + radius * Math.cos(-midAngle * Math.PI / 180);\n    const y = cy + radius * Math.sin(-midAngle * Math.PI / 180);\n    return /*#__PURE__*/_jsxDEV(\"text\", {\n      x: x,\n      y: y,\n      fill: \"white\",\n      textAnchor: x > cx ? 'start' : 'end',\n      dominantBaseline: \"central\",\n      fontSize: \"12\",\n      fontWeight: \"bold\",\n      children: `${(percent * 100).toFixed(0)}%`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: '#fff',\n      padding: '20px',\n      borderRadius: '8px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        margin: '0 0 20px 0',\n        fontSize: '18px',\n        fontWeight: '600'\n      },\n      children: \"Top 10 Topics Distribution\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 400,\n      children: /*#__PURE__*/_jsxDEV(PieChart, {\n        children: [/*#__PURE__*/_jsxDEV(Pie, {\n          data: chartData,\n          cx: \"50%\",\n          cy: \"50%\",\n          labelLine: false,\n          label: renderCustomLabel,\n          outerRadius: 130,\n          fill: \"#8884d8\",\n          dataKey: \"value\",\n          children: chartData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n            fill: COLORS[index % COLORS.length]\n          }, `cell-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          formatter: (value, name, props) => [`${value} records (Avg Relevance: ${props.payload.avgRelevance})`, props.payload.name]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {\n          layout: \"vertical\",\n          align: \"right\",\n          verticalAlign: \"middle\",\n          formatter: (value, entry) => `${value} (${entry.payload.value})`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_c = TopicsChart;\nexport default TopicsChart;\nvar _c;\n$RefreshReg$(_c, \"TopicsChart\");","map":{"version":3,"names":["React","PieChart","Pie","Cell","ResponsiveContainer","Legend","Tooltip","jsxDEV","_jsxDEV","COLORS","TopicsChart","data","chartData","reduce","acc","item","topic","trim","existing","find","x","name","value","totalRelevance","relevance","push","map","avgRelevance","parseFloat","toFixed","sort","a","b","slice","renderCustomLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","Math","cos","PI","y","sin","fill","textAnchor","dominantBaseline","fontSize","fontWeight","children","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","padding","borderRadius","boxShadow","margin","width","height","labelLine","label","dataKey","entry","index","length","formatter","props","payload","layout","align","verticalAlign","_c","$RefreshReg$"],"sources":["/Users/deepak/Desktop/internship/frontend/src/components/Charts/TopicsChart.jsx"],"sourcesContent":["import React from 'react';\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from 'recharts';\n\nconst COLORS = [\n  '#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', \n  '#ec4899', '#14b8a6', '#f97316', '#06b6d4', '#84cc16'\n];\n\nconst TopicsChart = ({ data }) => {\n  // Count records by topic\n  const chartData = data.reduce((acc, item) => {\n    if (item.topic && item.topic.trim() !== '') {\n      const existing = acc.find(x => x.name === item.topic);\n      if (existing) {\n        existing.value += 1;\n        existing.totalRelevance += item.relevance || 0;\n      } else {\n        acc.push({ \n          name: item.topic, \n          value: 1,\n          totalRelevance: item.relevance || 0\n        });\n      }\n    }\n    return acc;\n  }, []).map(item => ({\n    name: item.name,\n    value: item.value,\n    avgRelevance: parseFloat((item.totalRelevance / item.value).toFixed(2))\n  })).sort((a, b) => b.value - a.value).slice(0, 10);\n\n  const renderCustomLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent }) => {\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n    const x = cx + radius * Math.cos(-midAngle * Math.PI / 180);\n    const y = cy + radius * Math.sin(-midAngle * Math.PI / 180);\n\n    return (\n      <text \n        x={x} \n        y={y} \n        fill=\"white\" \n        textAnchor={x > cx ? 'start' : 'end'} \n        dominantBaseline=\"central\"\n        fontSize=\"12\"\n        fontWeight=\"bold\"\n      >\n        {`${(percent * 100).toFixed(0)}%`}\n      </text>\n    );\n  };\n\n  return (\n    <div style={{\n      backgroundColor: '#fff',\n      padding: '20px',\n      borderRadius: '8px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n    }}>\n      <h3 style={{ margin: '0 0 20px 0', fontSize: '18px', fontWeight: '600' }}>\n        Top 10 Topics Distribution\n      </h3>\n      <ResponsiveContainer width=\"100%\" height={400}>\n        <PieChart>\n          <Pie\n            data={chartData}\n            cx=\"50%\"\n            cy=\"50%\"\n            labelLine={false}\n            label={renderCustomLabel}\n            outerRadius={130}\n            fill=\"#8884d8\"\n            dataKey=\"value\"\n          >\n            {chartData.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n            ))}\n          </Pie>\n          <Tooltip \n            formatter={(value, name, props) => [\n              `${value} records (Avg Relevance: ${props.payload.avgRelevance})`,\n              props.payload.name\n            ]}\n          />\n          <Legend \n            layout=\"vertical\" \n            align=\"right\" \n            verticalAlign=\"middle\"\n            formatter={(value, entry) => `${value} (${entry.payload.value})`}\n          />\n        </PieChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default TopicsChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}