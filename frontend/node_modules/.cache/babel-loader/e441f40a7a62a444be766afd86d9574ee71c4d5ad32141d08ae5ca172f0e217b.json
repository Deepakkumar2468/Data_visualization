{"ast":null,"code":"// // import axios from 'axios';\n\n// // const API_URL = '/api';\n// // //const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// // export const getData = async (filters = {}) => {\n// //   try {\n// //     const params = new URLSearchParams();\n\n// //     Object.keys(filters).forEach(key => {\n// //       if (filters[key] && filters[key] !== '') {\n// //         params.append(key, filters[key]);\n// //       }\n// //     });\n\n// //     const response = await axios.get(`${API_URL}/data?${params.toString()}`);\n// //     return response.data;\n// //   } catch (error) {\n// //     console.error('Error fetching data:', error);\n// //     throw error;\n// //   }\n// // };\n\n// // export const getFilterOptions = async () => {\n// //   try {\n// //     const response = await axios.get(`${API_URL}/filters`);\n// //     return response.data;\n// //   } catch (error) {\n// //     console.error('Error fetching filter options:', error);\n// //     throw error;\n// //   }\n// // };\n\n// // export const getStats = async () => {\n// //   try {\n// //     const response = await axios.get(`${API_URL}/stats`);\n// //     return response.data;\n// //   } catch (error) {\n// //     console.error('Error fetching stats:', error);\n// //     throw error;\n// //   }\n// // };\n\n// import axios from 'axios';\n\n// // ✅ With proxy, this will automatically hit http://localhost:5000/api\n// const API_URL = '/api';\n\n// export const getData = async (filters = {}) => {\n//   try {\n//     const params = new URLSearchParams();\n//     Object.keys(filters).forEach(key => {\n//       if (filters[key]) params.append(key, filters[key]);\n//     });\n\n//     const response = await axios.get(`${API_URL}/data?${params.toString()}`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching data:', error);\n//     throw error;\n//   }\n// };\n\n// export const getFilterOptions = async () => {\n//   try {\n//     const response = await axios.get(`${API_URL}/filters`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching filter options:', error);\n//     throw error;\n//   }\n// };\n\n// export const getStats = async () => {\n//   try {\n//     const response = await axios.get(`${API_URL}/stats`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching stats:', error);\n//     throw error;\n//   }\n// };\n\nimport axios from 'axios';\n\n// Base API URL - using proxy, so relative path\nconst API_URL = '/api';\n\n// Create axios instance with default config\nconst axiosInstance = axios.create({\n  baseURL: API_URL,\n  timeout: 10000,\n  // 10 second timeout\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor for logging (optional - for debugging)\naxiosInstance.interceptors.request.use(config => {\n  console.log('API Request:', config.method.toUpperCase(), config.url);\n  return config;\n}, error => {\n  console.error('Request Error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\naxiosInstance.interceptors.response.use(response => {\n  console.log('API Response:', response.config.url, '- Status:', response.status);\n  return response;\n}, error => {\n  if (error.response) {\n    // Server responded with error status\n    console.error('Response Error:', error.response.status, error.response.data);\n  } else if (error.request) {\n    // Request made but no response received\n    console.error('Network Error: No response received');\n  } else {\n    // Error in request setup\n    console.error('Request Setup Error:', error.message);\n  }\n  return Promise.reject(error);\n});\n\n/**\n * Fetch data with optional filters\n * @param {Object} filters - Filter object with keys: end_year, topic, sector, region, pestle, source, swot, country, city\n * @returns {Promise<Array>} Array of data objects\n */\nexport const getData = async (filters = {}) => {\n  try {\n    // Build query parameters\n    const params = new URLSearchParams();\n    Object.keys(filters).forEach(key => {\n      if (filters[key] && filters[key] !== '') {\n        params.append(key, filters[key]);\n      }\n    });\n    const queryString = params.toString();\n    const url = queryString ? `/data?${queryString}` : '/data';\n    const response = await axiosInstance.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n};\n\n/**\n * Fetch all available filter options\n * @returns {Promise<Object>} Object containing arrays for each filter type\n */\nexport const getFilterOptions = async () => {\n  try {\n    const response = await axiosInstance.get('/filters');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching filter options:', error);\n    // Return empty options on error\n    return {\n      endYears: [],\n      topics: [],\n      sectors: [],\n      regions: [],\n      pestles: [],\n      sources: [],\n      swots: [],\n      countries: [],\n      cities: []\n    };\n  }\n};\n\n/**\n * Fetch statistical data\n * @returns {Promise<Object>} Object containing stats like totalRecords, avgIntensity, etc.\n */\nexport const getStats = async () => {\n  try {\n    const response = await axiosInstance.get('/stats');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching stats:', error);\n    // Return default stats on error\n    return {\n      totalRecords: 0,\n      avgIntensity: 0,\n      avgLikelihood: 0,\n      avgRelevance: 0\n    };\n  }\n};\n\n/**\n * Health check - Test if API is running\n * @returns {Promise<Object>} API status message\n */\nexport const healthCheck = async () => {\n  try {\n    const response = await axios.get('http://localhost:5000/');\n    return response.data;\n  } catch (error) {\n    console.error('API Health Check Failed:', error);\n    throw error;\n  }\n};\n\n// Export axios instance for custom requests if needed\nexport { axiosInstance };\nexport default {\n  getData,\n  getFilterOptions,\n  getStats,\n  healthCheck\n};","map":{"version":3,"names":["axios","API_URL","axiosInstance","create","baseURL","timeout","headers","interceptors","request","use","config","console","log","method","toUpperCase","url","error","Promise","reject","response","status","data","message","getData","filters","params","URLSearchParams","Object","keys","forEach","key","append","queryString","toString","get","getFilterOptions","endYears","topics","sectors","regions","pestles","sources","swots","countries","cities","getStats","totalRecords","avgIntensity","avgLikelihood","avgRelevance","healthCheck"],"sources":["/Users/deepak/Desktop/internship/frontend/src/Services/api.js"],"sourcesContent":["// // import axios from 'axios';\n\n// // const API_URL = '/api';\n// // //const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n\n// // export const getData = async (filters = {}) => {\n// //   try {\n// //     const params = new URLSearchParams();\n    \n// //     Object.keys(filters).forEach(key => {\n// //       if (filters[key] && filters[key] !== '') {\n// //         params.append(key, filters[key]);\n// //       }\n// //     });\n\n// //     const response = await axios.get(`${API_URL}/data?${params.toString()}`);\n// //     return response.data;\n// //   } catch (error) {\n// //     console.error('Error fetching data:', error);\n// //     throw error;\n// //   }\n// // };\n\n// // export const getFilterOptions = async () => {\n// //   try {\n// //     const response = await axios.get(`${API_URL}/filters`);\n// //     return response.data;\n// //   } catch (error) {\n// //     console.error('Error fetching filter options:', error);\n// //     throw error;\n// //   }\n// // };\n\n// // export const getStats = async () => {\n// //   try {\n// //     const response = await axios.get(`${API_URL}/stats`);\n// //     return response.data;\n// //   } catch (error) {\n// //     console.error('Error fetching stats:', error);\n// //     throw error;\n// //   }\n// // };\n\n\n\n\n\n\n\n\n\n\n\n// import axios from 'axios';\n\n// // ✅ With proxy, this will automatically hit http://localhost:5000/api\n// const API_URL = '/api';\n\n// export const getData = async (filters = {}) => {\n//   try {\n//     const params = new URLSearchParams();\n//     Object.keys(filters).forEach(key => {\n//       if (filters[key]) params.append(key, filters[key]);\n//     });\n\n//     const response = await axios.get(`${API_URL}/data?${params.toString()}`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching data:', error);\n//     throw error;\n//   }\n// };\n\n// export const getFilterOptions = async () => {\n//   try {\n//     const response = await axios.get(`${API_URL}/filters`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching filter options:', error);\n//     throw error;\n//   }\n// };\n\n// export const getStats = async () => {\n//   try {\n//     const response = await axios.get(`${API_URL}/stats`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching stats:', error);\n//     throw error;\n//   }\n// };\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from 'axios';\n\n// Base API URL - using proxy, so relative path\nconst API_URL = '/api';\n\n// Create axios instance with default config\nconst axiosInstance = axios.create({\n  baseURL: API_URL,\n  timeout: 10000, // 10 second timeout\n  headers: {\n    'Content-Type': 'application/json',\n  }\n});\n\n// Request interceptor for logging (optional - for debugging)\naxiosInstance.interceptors.request.use(\n  (config) => {\n    console.log('API Request:', config.method.toUpperCase(), config.url);\n    return config;\n  },\n  (error) => {\n    console.error('Request Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for error handling\naxiosInstance.interceptors.response.use(\n  (response) => {\n    console.log('API Response:', response.config.url, '- Status:', response.status);\n    return response;\n  },\n  (error) => {\n    if (error.response) {\n      // Server responded with error status\n      console.error('Response Error:', error.response.status, error.response.data);\n    } else if (error.request) {\n      // Request made but no response received\n      console.error('Network Error: No response received');\n    } else {\n      // Error in request setup\n      console.error('Request Setup Error:', error.message);\n    }\n    return Promise.reject(error);\n  }\n);\n\n/**\n * Fetch data with optional filters\n * @param {Object} filters - Filter object with keys: end_year, topic, sector, region, pestle, source, swot, country, city\n * @returns {Promise<Array>} Array of data objects\n */\nexport const getData = async (filters = {}) => {\n  try {\n    // Build query parameters\n    const params = new URLSearchParams();\n    \n    Object.keys(filters).forEach(key => {\n      if (filters[key] && filters[key] !== '') {\n        params.append(key, filters[key]);\n      }\n    });\n\n    const queryString = params.toString();\n    const url = queryString ? `/data?${queryString}` : '/data';\n    \n    const response = await axiosInstance.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n};\n\n/**\n * Fetch all available filter options\n * @returns {Promise<Object>} Object containing arrays for each filter type\n */\nexport const getFilterOptions = async () => {\n  try {\n    const response = await axiosInstance.get('/filters');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching filter options:', error);\n    // Return empty options on error\n    return {\n      endYears: [],\n      topics: [],\n      sectors: [],\n      regions: [],\n      pestles: [],\n      sources: [],\n      swots: [],\n      countries: [],\n      cities: []\n    };\n  }\n};\n\n/**\n * Fetch statistical data\n * @returns {Promise<Object>} Object containing stats like totalRecords, avgIntensity, etc.\n */\nexport const getStats = async () => {\n  try {\n    const response = await axiosInstance.get('/stats');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching stats:', error);\n    // Return default stats on error\n    return {\n      totalRecords: 0,\n      avgIntensity: 0,\n      avgLikelihood: 0,\n      avgRelevance: 0\n    };\n  }\n};\n\n/**\n * Health check - Test if API is running\n * @returns {Promise<Object>} API status message\n */\nexport const healthCheck = async () => {\n  try {\n    const response = await axios.get('http://localhost:5000/');\n    return response.data;\n  } catch (error) {\n    console.error('API Health Check Failed:', error);\n    throw error;\n  }\n};\n\n// Export axios instance for custom requests if needed\nexport { axiosInstance };\n\nexport default {\n  getData,\n  getFilterOptions,\n  getStats,\n  healthCheck\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}